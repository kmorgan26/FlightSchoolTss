
<MudGrid Style="align-items: center">
    <MudItem xs="6">
        <MudForm Model="@_dto" @ref="@MudForm" Validation="_validator.ValidateValue" ValidationDelay="0">

            <MudTextField @bind-Value="_dto.Name"
                          Variant="Variant.Outlined"
                          For="(() => _dto.Name)"
                          Label="Maintainer Name"
                          Class="my-6" />

            <MudTextField @bind-Value="_dto.MaintainerId"
                          Variant="Variant.Outlined"
                          For="(() => _dto.MaintainerId)"
                          Label="Maintainer ID"
                          Class="my-6" />

            <MudTextField @bind-Value="_dto.MaintainableId"
                          Variant="Variant.Outlined"
                          For="(() => _dto.MaintainableId)"
                          Label="MaintainableId ID"
                          Class="my-6" />

            @*<FstssSelect OnSelectedOptionChanged="SubmitForm" Context="context" Items="MaintainerVms" @bind-Value="_dto.MaintainerId" >
            <SelectItems>
            @foreach (var item in MaintainerVms)
            {
            <MudSelectItem Value="@(item.Id)" />
            }
            </SelectItems>
            </FstssSelect>*@

            <MudCheckBox @bind-Checked="_dto.IsActive"
                         Label="Is Active?" />


        </MudForm>
    </MudItem>
    <MudItem xs="2">
        <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="@(async () => await SubmitForm())">@ButtonText</MudButton>
    </MudItem>
</MudGrid>

@code {
    [Parameter]
    public EventCallback OnPlatformAdd { get; set; }

    [Parameter]
    public EventCallback<MudForm> OnSubmitForm { get; set; }

    [Parameter]
    public PlatformDto _dto { get; set; } = new();

    [Parameter]
    public string ButtonText { get; set; } = "ADD";

    [Parameter]
    public MudForm? MudForm { get; set; } = new();

    //[Parameter]
    //public List<MaintainerVm> MaintainerVms { get; set; } = null!;

    PlatformDtoValidator _validator = null!;

    private async Task SubmitForm()
    {
        await OnSubmitForm.InvokeAsync(MudForm);
    }
}