@inherits FluxorComponent
@inject IState<SoftwareState> State

@namespace FlightSchoolCm.UI.Components.Software

<FSForm OnSubmitForm="SubmitForm" TItem="SoftwareVersionDto">
    <FormControls>

        <MudGrid>

            <MudItem>

                <MudTextField @bind-Value="State.Value.SoftwareVersionDto.Name"
                              Variant="Variant.Outlined"
                              For="(() => State.Value.SoftwareVersionDto.Name)"
                              Label="Version Name"
                              OnlyValidateIfDirty="true"
                              Class="my-6" />


            </MudItem>

            <MudItem>
                <MudDatePicker @bind-Date="@State.Value.SoftwareVersionDto.VersionDate"
                               Class="my-5"
                               For="(() => State.Value.SoftwareVersionDto.VersionDate)"
                               Label="Version Date"
                               Variant="Variant.Outlined" />
            </MudItem>

            <MudHidden @bind-Value="@State.Value.SoftwareVersionDto.SoftwareSystemId" />

        </MudGrid>

    </FormControls>
</FSForm>

@code {

    [Parameter]
    public EventCallback<MudForm> OnSubmitForm { get; set; }

    [Parameter]
    public MudForm? MudForm { get; set; } = new();

    private async Task SubmitForm()
    {
        await OnSubmitForm.InvokeAsync(MudForm);
    }
}